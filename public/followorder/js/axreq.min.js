!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.axreq={})}(this,function(e){"use strict";var s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c=/^(?:text|application)\/javascript/i,i=/^(?:text|application)\/xml/i;function u(){}var p={method:"GET",processData:!0,contentType:"application/x-www-form-urlencoded;charset=utf-8",error:u,success:u,complete:u,beforeSend:u,headers:{}};function d(o,r){var a=null,e=function(t){var e,n;a=o[t],Array.isArray(a)?a.forEach(function(e){r(t,e)}):(n=!1,"object"==typeof(e=a)&&(n=!(null===e)),n&&Object.getPrototypeOf(e)===Object.prototype?d(a,r):r(t,a))};for(var t in o)e(t)}var f=function(e){var o=[],t=function(e,t){var n="function"==typeof t?t():t;o.push(encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n))};return e instanceof HTMLElement&&"form"===e.tagName?function(e,t){for(var n,o=e.elements,r=0,a=o.length;r<a;r++)(n=o[r]).hasAttribute("name")&&("SELECT"===n.tagName?t(n.name,n.options[n.selectedIndex].value):"radio"===n.type||"checkbox"===n.type?n.checked&&t(n.name,n.value):t(n.name,n.value))}(e,t):d(e,t),o.join("&")},l=function(e){var n=s({},p,e),o=new XMLHttpRequest,r=n.dataType;n.data&&!0===n.processData&&"string"!=typeof n.data&&(n.data=f(n.data));var t=n.method;for(var a in"GET"===t.toUpperCase()&&n.data&&(n.url=n.url+"?"+n.data),o.onreadystatechange=function(){if(4===o.readyState){o.onreadystatechange=u;var e=void 0;if(200<=o.status&&o.status<300||304===o.status){if(r=r||((t=n.mimeType||o.getResponseHeader("content-type"))&&(t=t.split(";")[0]),t&&("text/html"===t?"html":"application/json"===t?"json":c.test(t)?"script":i.test(t)&&"xml")||"text"),"arraybuffer"===o.responseType||"blob"===o.responseType)e=o.response;else{e=o.responseText;try{"json"===r&&(e=JSON.parse(e))}catch(e){console.error(e),n.error("parseError",e.message)}}n.success(e)}else n.error(o.status,o.statusText||"");n.complete()}var t},n.beforeSend(o),o.open(n.method,n.url),n.data&&"GET"!==t&&o.setRequestHeader("Content-Type",n.contentType),n.headers)o.setRequestHeader(a,n.headers[a]);o.send(n.data?n.data:null)};e.serialize=f,e.ajax=l,e.get=function(e,t,n){l({url:e,success:function(e){n(null,e)},error:function(e,t){n(new Error("{code:"+e+",msg:"+t+"}"))}})},e.post=function(e,t,n){l({url:e,data:t,method:"POST",success:function(e){n(null,e)},error:function(e,t){n(new Error("{code:"+e+",msg:"+t+"}"))}})},e.json=function(e,t,n,o,r){void 0===t&&(t=null),void 0===o&&(o="GET"),void 0===r&&(r=!1);var a={url:e,data:t,method:o,dataType:"json",success:function(e){n(null,e)},error:function(e,t){n(new Error("{code:"+e+",msg:"+t+"}"))}};!0===r&&(a.contentType="application/json;charset=utf-8","object"==typeof t&&(a.data=JSON.stringify(t)),a.processData=!1),l(a)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=axreq.min.js.map
