(function(){var e=/^(?:text|application)\/javascript/i,d=/^(?:text|application)\/xml/i,m="application/json",c="text/html";function k(o){var n=false;if(typeof o==="object"){n=!(o===null)}return n&&Object.getPrototypeOf(o)===Object.prototype}function h(){var v=arguments[0]||{},s=1,q=arguments.length,w=false,r,n,p,t,u;if(typeof target==="boolean"){w=v;target=arguments[s]||{};s++}if(typeof target!=="object"){target={}}for(;s<q;s++){if((r=arguments[s])!=null){for(var o in r){n=target[o];p=r[o];if(n===p){continue}if(w&&p&&typeof(k(p)||(t=Array.isArray(p)))){if(t){t=false;u=Array.isArray(n)?n:[]}else{u=k(n)?n:{}}target[o]=h(w,u,p)}else{if(p!==undefined&&p!==null){target[o]=p}}}}}return target}function a(n){if(n){n=n.split(";")[0]}return n&&(n===c?"html":n===m?"json":e.test(n)?"script":d.test(n)&&"xml")||"text"}var i={method:"GET",processData:true,contentType:"application/x-www-form-urlencoded;charset=utf-8",error:f,success:f,complete:f,beforeSend:f,headers:{}};function f(){}var j=Object.create(null);function g(n,q){var p=null;for(var o in n){p=n[o];if(Array.isArray(p)){p.forEach(function(r){q(o,r)})}else{if(k(p)){g(p)}else{q(o,p)}}}}var b=function(n){var p,o=[],q=function(r,s){var t=(typeof s==="function")?s():s;o.push(encodeURIComponent(r)+"="+encodeURIComponent(t==null?"":t))};if(n instanceof HTMLElement&&n.tagName==="form"){l(n,q)}else{g(n,q)}return o.join("&")};var l=function(s,t){var o=s.elements,r,p=[];for(var q=0,n=o.length;q<n;q++){r=o[q];if(!r.hasAttribute("name")){continue}if(r.tagName==="SELECT"){t(r.name,r.options[r.selectedIndex].value)}else{if(r.type==="radio"||r.type==="checkbox"){if(r.checked){t(r.name,r.value)}}else{t(r.name,r.value)}}}};j.ajax=function(o){var q=h({},i,o||{});var r=new window.XMLHttpRequest();var n=q.dataType;if(q.data&&q.processData&&typeof q.data!=="string"){q.data=b(q.data)}if(q.method.toUpperCase()==="GET"&&q.data){q.url=q.url+"?"+q.data}r.onreadystatechange=function(){if(r.readyState===4){r.onreadystatechange=f;var s;if((r.status>=200&&r.status<300)||r.status===304){n=n||a(q.mimeType||r.getResponseHeader("content-type"));if(r.responseType==="arraybuffer"||r.responseType==="blob"){s=r.response}else{s=r.responseText;try{if(n==="json"){s=JSON.parse(s)}}catch(t){console.error(t);q.error("parseError",t.message)}}q.success(s)}else{q.error(r.status,r.statusText||"")}q.complete()}};q.beforeSend(r);r.open(q.method,q.url);if(q.data&&q.method.toUpperCase()!=="GET"){r.setRequestHeader("Content-Type",q.contentType)}for(var p in q.headers){r.setRequestHeader(p,q.headers[p])}r.send(q.data?q.data:null)};j.get=function(o,n){this.ajax({url:o,success:function(p){n(null,p)},error:function(p,q){n({code:p,msg:q})}})};j.post=function(p,q,n,o){this.ajax({url:p,data:q,method:"POST",dataType:o,success:function(r){n(null,r)},error:function(r,s){n({code:r,msg:s})}})};j.getJSON=function(o,p,n){var q="GET";if(p){q="POST"}this.ajax({url:o,data:p,method:q,dataType:"json",success:function(r){n(null,r)},error:function(r,s){n({code:r,msg:s})}})};j.serialize=function(n){return b(n)};window.har=j})();